(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4707:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),a(908),a(1506),a(5866);var s=a(3191),l=a(8716),i=a(7922),r=a.n(i),n=a(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,908)),"C:\\Users\\User\\Desktop\\controle-gastos\\backend\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\User\\Desktop\\controle-gastos\\backend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\User\\Desktop\\controle-gastos\\backend\\app\\page.tsx"],m="/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7545:()=>{},703:(e,t,a)=>{Promise.resolve().then(a.bind(a,2798))},3557:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},2798:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(326),l=a(7577);let i=process.env.NEXT_PUBLIC_API_URL||"/api";async function r(e,t={},a){let s={"Content-Type":"application/json",...t.headers};a&&(s.Authorization=`Bearer ${a}`);let l=await fetch(`${i}${e}`,{...t,headers:s}),r=await l.json().catch(()=>({}));if(!l.ok)throw Error(r&&r.message||"Erro inesperado");return r}function n(e){return r("/auth/login",{method:"POST",body:JSON.stringify(e)})}function o(e){return r("/auth/register",{method:"POST",body:JSON.stringify(e)})}function c({entries:e,form:t,editingId:a,error:l,saving:i,onChange:r,onSubmit:n,onEdit:o,onCancelEdit:c,onDelete:d,summary:m}){return(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Proje\xe7\xe3o"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Lan\xe7amentos futuros"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Cadastre entradas e sa\xeddas previstas para enxergar o impacto no m\xeas."})]})}),(0,s.jsxs)("form",{onSubmit:n,className:"space-y-2",children:[(0,s.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["T\xedtulo",s.jsx("input",{type:"text",value:t.title,onChange:e=>r({...t,title:e.target.value}),placeholder:"Ex: IPVA, B\xf4nus, 13\xba",required:!0,className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Valor (R$)",s.jsx("input",{type:"number",step:"0.01",value:t.amount,onChange:e=>r({...t,amount:e.target.value}),required:!0,className:"input"})]})]}),(0,s.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Categoria",s.jsx("input",{type:"text",value:t.category,onChange:e=>r({...t,category:e.target.value}),placeholder:"Ex: imposto, extra...",className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Data prevista",s.jsx("input",{type:"date",value:t.dueDate,onChange:e=>r({...t,dueDate:e.target.value}),required:!0,className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Tipo",(0,s.jsxs)("select",{value:t.type,onChange:e=>r({...t,type:e.target.value}),className:"input",children:[s.jsx("option",{value:"expense",children:"Sa\xedda"}),s.jsx("option",{value:"income",children:"Entrada"})]})]})]}),l&&s.jsx("p",{className:"text-rose-400 text-sm",children:l}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[a&&s.jsx("button",{type:"button",className:"button-ghost",onClick:c,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"button-primary",disabled:i,children:i?"Salvando...":a?"Atualizar":"Adicionar"})]})]}),(0,s.jsxs)("div",{className:"glass p-4 rounded-xl border border-white/10 bg-white/5 grid gap-1 md:grid-cols-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-slate-300 uppercase tracking-[0.08em]",children:"Entradas previstas"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-emerald-300",children:["R$ ",m.totalIncomes.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-slate-300 uppercase tracking-[0.08em]",children:"Sa\xeddas previstas"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-rose-300",children:["R$ ",m.totalExpenses.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-slate-300 uppercase tracking-[0.08em]",children:"Saldo projetado"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-slate-50",children:["R$ ",m.net.toFixed(2)]})]})]}),0===e.length?s.jsx("p",{className:"text-slate-300 text-sm",children:"Nenhum lan\xe7amento futuro ainda."}):s.jsx("ul",{className:"list",children:e.map(e=>(0,s.jsxs)("li",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"description",children:[e.title," ",(0,s.jsxs)("span",{className:"muted",children:["• ","income"===e.type?"Entrada":"Sa\xedda"," • ",new Date(e.dueDate).toLocaleDateString("pt-BR")]})]}),(0,s.jsxs)("p",{className:"muted",children:["R$ ",e.amount.toFixed(2)," ",e.category&&` • ${e.category}`]})]}),(0,s.jsxs)("div",{className:"row",children:[s.jsx("button",{className:"button-ghost",onClick:()=>o(e),children:"Editar"}),s.jsx("button",{className:"danger",onClick:()=>d(e.id),children:"Excluir"})]})]},e.id))})]})}function d({start:e,end:t,onChange:a,days:l,summary:i}){return(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Calend\xe1rio"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Linha do tempo do m\xeas"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Selecione in\xedcio e fim para ver os gastos por dia e o resumo do per\xedodo."})]})}),(0,s.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Data inicial",s.jsx("input",{type:"date",value:e,onChange:e=>a({start:e.target.value,end:t}),className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Data final",s.jsx("input",{type:"date",value:t,onChange:t=>a({start:e,end:t.target.value}),className:"input"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm text-slate-200",children:[(0,s.jsxs)("div",{className:"glass p-3 rounded-xl border border-white/10 bg-white/5",children:[s.jsx("p",{className:"text-xs text-slate-400",children:"Total no per\xedodo"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-rose-300",children:["R$ ",i.total.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"glass p-3 rounded-xl border border-white/10 bg-white/5",children:[s.jsx("p",{className:"text-xs text-slate-400",children:"M\xe9dia por dia"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-slate-50",children:["R$ ",i.average.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"glass p-3 rounded-xl border border-white/10 bg-white/5",children:[s.jsx("p",{className:"text-xs text-slate-400",children:"Dia mais alto"}),s.jsx("p",{className:"text-lg font-semibold text-emerald-300",children:i.highestDay?`R$ ${i.highestDay.total.toFixed(2)}`:"—"})]})]})]}),e&&t?0===l.length?s.jsx("p",{className:"text-slate-300 text-sm",children:"Nenhum gasto registrado no per\xedodo."}):s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:l.map(e=>(0,s.jsxs)("div",{className:"relative glass p-3 rounded-xl border border-white/10 bg-white/5 group",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-50",children:new Date(e.date).toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit",month:"short"})}),(0,s.jsxs)("span",{className:"text-xs text-emerald-300 font-semibold",children:["R$ ",e.total.toFixed(2)]})]}),s.jsx("p",{className:"text-xs text-slate-400",children:"Passe o mouse para ver detalhes"}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-slate-900/90 rounded-xl p-3 hidden group-hover:flex flex-col gap-2 overflow-auto",children:[s.jsx("p",{className:"text-xs text-slate-300",children:"Gastos do dia"}),0===e.items.length?s.jsx("p",{className:"text-xs text-slate-400",children:"Nenhum gasto"}):s.jsx("ul",{className:"space-y-1 text-xs text-slate-200",children:e.items.map((e,t)=>(0,s.jsxs)("li",{className:"flex justify-between gap-2",children:[(0,s.jsxs)("span",{className:"truncate",children:[e.title," ",e.category?`• ${e.category}`:""," (",e.type,")"]}),(0,s.jsxs)("span",{className:"text-rose-300 font-semibold",children:["R$ ",e.amount.toFixed(2)]})]},t))})]})]},e.date))}):s.jsx("p",{className:"text-slate-300 text-sm",children:"Informe a data inicial e final para ver o calend\xe1rio."})]})}let m={name:"",email:"",password:""},x={description:"",amount:"",category:"",date:"",payCycleId:""},u={title:"",amount:"",category:"",dueDay:"1",payCycleId:""},p={name:"",payDay:"1"},h={title:"",amount:"",category:"",dueDate:"",type:"expense"},g=["Alimenta\xe7\xe3o","Supermercado/Feira","Transporte","Apps/Uber","Combust\xedvel","Lazer","Viagem","Educa\xe7\xe3o","Sa\xfade","Casa","Pets","Roupas","Emerg\xeancias","Outros"],y=["Aluguel/Condom\xednio","Energia","\xc1gua","Internet","Celular","Plano de sa\xfade","Seguro","Financiamento","Streaming","Academia","Escola/Faculdade","Outros"],j=()=>{let e=new Date;return{start:new Date(e.getFullYear(),e.getMonth(),1).toISOString().slice(0,10),end:new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().slice(0,10)}},N=()=>null;function b(){let[e,t]=(0,l.useState)("login"),[a,i]=(0,l.useState)(m),[b,v]=(0,l.useState)(!1),[f,S]=(0,l.useState)(""),[D,C]=(0,l.useState)(null),[w,E]=(0,l.useState)(N),[$,k]=(0,l.useState)([]),[I,P]=(0,l.useState)(x),[F,R]=(0,l.useState)(!1),[T,O]=(0,l.useState)(""),[q,A]=(0,l.useState)(null),[U,_]=(0,l.useState)([]),[M,L]=(0,l.useState)(u),[J,V]=(0,l.useState)(!1),[z,G]=(0,l.useState)(""),[B,X]=(0,l.useState)(null),[Y,Q]=(0,l.useState)(""),[H,K]=(0,l.useState)(!1),[W,Z]=(0,l.useState)([]),[ee,et]=(0,l.useState)(p),[ea,es]=(0,l.useState)(!1),[el,ei]=(0,l.useState)(""),[er,en]=(0,l.useState)([]),[eo,ec]=(0,l.useState)(h),[ed,em]=(0,l.useState)(null),[ex,eu]=(0,l.useState)(!1),[ep,eh]=(0,l.useState)(""),[eg,ey]=(0,l.useState)(j),ej=(0,l.useMemo)(()=>!!w,[w]);async function eN(){if(w){O("");try{let e=await r("/expenses",{method:"GET"},w);k(e)}catch(e){console.error(e),O("N\xe3o foi poss\xedvel carregar as despesas agora.")}}}async function eb(){if(w){G("");try{let e=await r("/obligations",{method:"GET"},w);_(e)}catch(e){console.error(e),G("N\xe3o foi poss\xedvel carregar as obriga\xe7\xf5es agora.")}}}async function ev(t){t.preventDefault(),v(!0),S("");try{let t="login"===e?n:o,s=await t(a);E(s.token),localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),C(s.user),i(m)}catch(e){S(e?.message||"Erro ao autenticar")}finally{v(!1)}}async function ef(e){if(e.preventDefault(),w){R(!0),O("");try{let e={description:I.description.trim(),amount:Number(I.amount),category:I.category.trim()||void 0,date:I.date?I.date:void 0,payCycleId:I.payCycleId?Number(I.payCycleId):null};if(!e.description||Number.isNaN(e.amount)){O("Descri\xe7\xe3o e valor s\xe3o obrigat\xf3rios."),R(!1);return}if(q){let t=await r(`/expenses/${q}`,{method:"PUT",body:JSON.stringify(e)},w);k(e=>e.map(e=>e.id===t.id?t:e))}else{let t=await r("/expenses",{method:"POST",body:JSON.stringify(e)},w);k(e=>[t,...e])}P(x),A(null)}catch(e){O(e?.message||"Erro ao salvar despesa")}finally{R(!1)}}}async function eS(e){if(w&&confirm("Deseja excluir esta despesa?"))try{await r(`/expenses/${e}`,{method:"DELETE"},w),k(t=>t.filter(t=>t.id!==e))}catch(e){O(e?.message||"Erro ao excluir despesa")}}async function eD(e){if(e.preventDefault(),!w)return;es(!0),ei("");let t=Number(ee.payDay);if(!ee.name||Number.isNaN(t)||t<1||t>31){ei("Informe nome e dia entre 1 e 31"),es(!1);return}try{var a;let e=await (a={name:ee.name,payDay:t},r("/pay-cycles",{method:"POST",body:JSON.stringify(a)},w));Z(t=>[...t,e].sort((e,t)=>e.payDay-t.payDay)),et(p)}catch(e){ei(e?.message||"Erro ao criar ciclo")}finally{es(!1)}}async function eC(e){if(w&&confirm("Excluir ciclo de pagamento? Itens associados perder\xe3o a vincula\xe7\xe3o."))try{await r(`/pay-cycles/${e}`,{method:"DELETE"},w),Z(t=>t.filter(t=>t.id!==e)),_(t=>t.map(t=>t.payCycleId===e?{...t,payCycleId:null}:t)),k(t=>t.map(t=>t.payCycleId===e?{...t,payCycleId:null}:t))}catch(e){ei(e?.message||"Erro ao excluir ciclo")}}async function ew(e){if(e.preventDefault(),!w)return;let t=parseFloat(Y);if(Number.isNaN(t)||t<0){G("Sal\xe1rio inv\xe1lido");return}K(!0);try{let e=await r("/profile/salary",{method:"PUT",body:JSON.stringify({salary:t})},w);C(e),localStorage.setItem("user",JSON.stringify(e))}catch(e){console.error(e),G("Erro ao salvar sal\xe1rio")}finally{K(!1)}}async function eE(e){if(e.preventDefault(),!w)return;V(!0),G("");let t={title:M.title.trim(),amount:Number(M.amount),category:M.category.trim()||void 0,dueDay:Number(M.dueDay),payCycleId:M.payCycleId?Number(M.payCycleId):null};if(!t.title||Number.isNaN(t.amount)||Number.isNaN(t.dueDay)){G("Preencha t\xedtulo, valor e dia."),V(!1);return}try{if(B){let e=await r(`/obligations/${B}`,{method:"PUT",body:JSON.stringify(t)},w);_(t=>t.map(t=>t.id===e.id?e:t))}else{let e=await r("/obligations",{method:"POST",body:JSON.stringify(t)},w);_(t=>[...t,e].sort((e,t)=>e.dueDay-t.dueDay))}L(u),X(null)}catch(e){G(e?.message||"Erro ao salvar obriga\xe7\xe3o")}finally{V(!1)}}async function e$(e){if(w&&confirm("Deseja excluir esta obriga\xe7\xe3o fixa?"))try{await r(`/obligations/${e}`,{method:"DELETE"},w),_(t=>t.filter(t=>t.id!==e))}catch(e){G(e?.message||"Erro ao excluir obriga\xe7\xe3o")}}async function ek(e){if(e.preventDefault(),!w)return;eu(!0),eh("");let t={title:eo.title.trim(),amount:Number(eo.amount),category:eo.category.trim()||void 0,dueDate:eo.dueDate,type:eo.type};if(!t.title||Number.isNaN(t.amount)||!t.dueDate){eh("Preencha t\xedtulo, valor e data."),eu(!1);return}try{if(ed){let e=await r(`/future-entries/${ed}`,{method:"PUT",body:JSON.stringify(t)},w);en(t=>t.map(t=>t.id===e.id?e:t))}else{let e=await r("/future-entries",{method:"POST",body:JSON.stringify(t)},w);en(t=>[...t,e].sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()))}ec(h),em(null)}catch(e){eh(e?.message||"Erro ao salvar lan\xe7amento futuro")}finally{eu(!1)}}async function eI(e){if(w&&confirm("Deseja excluir este lan\xe7amento futuro?"))try{await r(`/future-entries/${e}`,{method:"DELETE"},w),en(t=>t.filter(t=>t.id!==e))}catch(e){eh(e?.message||"Erro ao excluir lan\xe7amento futuro")}}let eP=D?.salary??0,eF=U.reduce((e,t)=>e+t.amount,0),eR=er.filter(e=>"expense"===e.type).reduce((e,t)=>e+t.amount,0),eT=er.filter(e=>"income"===e.type).reduce((e,t)=>e+t.amount,0),eO=$.reduce((e,t)=>e+t.amount,0),eq=eP-eF-eO,eA=Math.max(0,eF+eO-eP),eU=eP>0?Math.min(100,eF/eP*100):0,e_=eP>0?Math.min(100-eU,eO/eP*100):0,eM=(0,l.useMemo)(()=>{if(!eg.start||!eg.end)return{days:[],total:0,average:0,highestDay:null};let e=new Date(eg.start),t=new Date(eg.end);if(Number.isNaN(e.getTime())||Number.isNaN(t.getTime())||e>t)return{days:[],total:0,average:0,highestDay:null};let a={},s=(e,t)=>{a[e]||(a[e]=[]),a[e].push(t)};$.forEach(a=>{if(!a.date)return;let l=a.date.slice(0,10),i=new Date(l);i>=e&&i<=t&&s(l,{title:a.description,amount:a.amount,category:a.category,type:"Despesa"})}),er.filter(e=>"expense"===e.type).forEach(a=>{let l=a.dueDate.slice(0,10),i=new Date(l);i>=e&&i<=t&&s(l,{title:a.title,amount:a.amount,category:a.category,type:"Futuro"})});let l=new Date(e);for(;l<=t;){let e=l.getDate(),t=l.toISOString().slice(0,10);U.forEach(a=>{a.dueDay===e&&s(t,{title:a.title,amount:a.amount,category:a.category,type:"Obriga\xe7\xe3o"})}),l.setDate(l.getDate()+1)}let i=[],r=new Date(e);for(;r<=t;){let e=r.toISOString().slice(0,10),t=a[e]||[],s=t.reduce((e,t)=>e+t.amount,0);i.push({date:e,total:s,items:t}),r.setDate(r.getDate()+1)}let n=i.reduce((e,t)=>e+t.total,0),o=i.length?n/i.length:0,c=i.reduce((e,t)=>e&&e.total>=t.total?e:t,i[0]||null);return{days:i,total:n,average:o,highestDay:c}},[eg,$,U,er]),eL=W.map(e=>{let t=U.filter(t=>t.payCycleId===e.id).reduce((e,t)=>e+t.amount,0),a=$.filter(t=>t.payCycleId===e.id).reduce((e,t)=>e+t.amount,0);return{cycle:e,fixed:t,variable:a,total:t+a}});return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 pb-10 pt-8 space-y-6",children:[(0,s.jsxs)("div",{className:"glass p-6 md:p-8 space-y-3",children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Controle de Gastos"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-50",children:"Veja para onde seu dinheiro vai e planeje o m\xeas sem sustos."}),s.jsx("p",{className:"text-slate-300 max-w-3xl",children:"Cadastre suas despesas, obriga\xe7\xf5es fixas e defina seu sal\xe1rio para ter clareza do que sobra."})]}),ej?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[s.jsx("section",{className:"glass p-5 space-y-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Bem-vindo(a)"}),s.jsx("h2",{className:"text-xl font-semibold text-slate-50",children:D?.name}),s.jsx("p",{className:"text-slate-300",children:D?.email})]}),s.jsx("button",{className:"button-ghost",onClick:function(){E(null),C(null),localStorage.removeItem("token"),localStorage.removeItem("user"),k([]),_([]),Z([])},children:"Sair"})]})}),(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Sal\xe1rio e meta do m\xeas"}),(0,s.jsxs)("form",{onSubmit:ew,className:"space-y-2",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Sal\xe1rio l\xedquido (R$)",s.jsx("input",{type:"number",step:"0.01",value:Y,onChange:e=>Q(e.target.value),placeholder:"Ex: 4500",className:"input"})]}),s.jsx("button",{type:"submit",className:"button-primary",disabled:H,children:H?"Salvando...":"Salvar sal\xe1rio"})]}),s.jsx("div",{className:"space-y-3",children:eP>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-1 text-sm text-slate-200",children:[(0,s.jsxs)("p",{children:["Obriga\xe7\xf5es: R$ ",eF.toFixed(2)]}),(0,s.jsxs)("p",{children:["Vari\xe1veis: R$ ",eO.toFixed(2)]}),(0,s.jsxs)("p",{children:["Sobra: R$ ",eq.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-300",children:[s.jsx("span",{children:"Distribui\xe7\xe3o do sal\xe1rio"}),eA>0?(0,s.jsxs)("span",{className:"text-rose-300",children:["D\xe9ficit: R$ ",eA.toFixed(2)]}):(0,s.jsxs)("span",{className:"text-emerald-300",children:["Sobra: R$ ",eq.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"h-3 w-full rounded-full bg-white/10 overflow-hidden flex",children:[s.jsx("div",{className:"h-full bg-rose-400",style:{width:`${eU}%`}}),s.jsx("div",{className:"h-full bg-sky-400",style:{width:`${e_}%`}}),s.jsx("div",{className:"h-full bg-emerald-300",style:{width:`${eP>0?Math.max(0,100-eU-e_):0}%`}})]}),(0,s.jsxs)("div",{className:"flex justify-between text-[11px] text-slate-400",children:[(0,s.jsxs)("span",{children:["Fixas: R$ ",eF.toFixed(2)]}),(0,s.jsxs)("span",{children:["Vari\xe1veis: R$ ",eO.toFixed(2)]}),(0,s.jsxs)("span",{children:["Sobra: R$ ",Math.max(0,eq).toFixed(2)]})]})]})]}):s.jsx("p",{className:"text-slate-300 text-sm",children:"Defina seu sal\xe1rio para ver a divis\xe3o do m\xeas."})})]}),(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Ciclos de pagamento"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Mapeie seus sal\xe1rios"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"button-ghost",onClick:()=>et({name:"Sal\xe1rio 25",payDay:"25"}),children:"Usar dia 25"}),s.jsx("button",{type:"button",className:"button-ghost",onClick:()=>et({name:"Sal\xe1rio 1-10",payDay:"5"}),children:"Usar dia 1-10"})]})]}),(0,s.jsxs)("form",{onSubmit:eD,className:"space-y-2",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Nome do ciclo",s.jsx("input",{type:"text",value:ee.name,onChange:e=>et({...ee,name:e.target.value}),placeholder:"Ex: Sal\xe1rio 25",required:!0,className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Dia do m\xeas",s.jsx("input",{type:"number",min:"1",max:"31",value:ee.payDay,onChange:e=>et({...ee,payDay:e.target.value}),required:!0,className:"input"})]}),el&&s.jsx("p",{className:"text-rose-400 text-sm",children:el}),s.jsx("button",{type:"submit",className:"button-primary",disabled:ea,children:ea?"Salvando...":"Salvar ciclo"})]}),W.length>0&&s.jsx("ul",{className:"list mt-2",children:W.map(e=>(0,s.jsxs)("li",{children:[s.jsx("div",{children:(0,s.jsxs)("p",{className:"description",children:[e.name," ",(0,s.jsxs)("span",{className:"muted",children:["- dia ",e.payDay]})]})}),s.jsx("div",{className:"row",children:s.jsx("button",{className:"danger",onClick:()=>eC(e.id),children:"Excluir"})})]},e.id))})]})]}),W.length>0&&(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Aloca\xe7\xe3o por sal\xe1rio"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Quanto cada ciclo j\xe1 pagou"})]})}),s.jsx("ul",{className:"list",children:eL.map(({cycle:e,fixed:t,variable:a,total:l})=>(0,s.jsxs)("li",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"description",children:[e.name," ",(0,s.jsxs)("span",{className:"muted",children:["- dia ",e.payDay]})]}),(0,s.jsxs)("p",{className:"muted",children:["Fixas: R$ ",t.toFixed(2)," - Vari\xe1veis: R$ ",a.toFixed(2)," - Total: R$ ",l.toFixed(2)]})]}),eP>0&&s.jsx("div",{children:(0,s.jsxs)("p",{className:"muted",children:["Cobertura: ",Math.min(100,l/eP*100).toFixed(0),"%"]})})]},e.id))})]}),s.jsx(c,{entries:er,form:eo,editingId:ed,error:ep,saving:ex,onChange:ec,onSubmit:ek,onEdit:function(e){ec({title:e.title,amount:e.amount.toString(),category:e.category||"",dueDate:e.dueDate.slice(0,10),type:"income"===e.type?"income":"expense"}),em(e.id)},onCancelEdit:()=>{ec(h),em(null),eh("")},onDelete:eI,summary:{totalExpenses:eR,totalIncomes:eT,net:eq-eR+eT}}),s.jsx(d,{start:eg.start,end:eg.end,onChange:ey,days:eM.days,summary:{total:eM.total,average:eM.average,highestDay:eM.highestDay}}),(0,s.jsxs)("div",{className:"grid gap-4 xl:grid-cols-3",children:[(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:B?"Editar obriga\xe7\xe3o fixa":"Adicionar obriga\xe7\xe3o fixa"}),(0,s.jsxs)("form",{onSubmit:eE,className:"space-y-2",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Nome",s.jsx("input",{type:"text",value:M.title,onChange:e=>L({...M,title:e.target.value}),placeholder:"Aluguel, Internet, Escola...",required:!0,className:"input"})]}),(0,s.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Valor (R$)",s.jsx("input",{type:"number",step:"0.01",value:M.amount,onChange:e=>L({...M,amount:e.target.value}),required:!0,className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Categoria",s.jsx("input",{type:"text",value:M.category,onChange:e=>L({...M,category:e.target.value}),list:"obligation-categories",placeholder:"Moradia, Contas...",className:"input"}),s.jsx("datalist",{id:"obligation-categories",children:y.map(e=>s.jsx("option",{value:e},e))})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Sal\xe1rio / Ciclo",(0,s.jsxs)("select",{value:M.payCycleId,onChange:e=>L({...M,payCycleId:e.target.value}),className:"input",children:[s.jsx("option",{value:"",children:"Sem ciclo"}),W.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (dia ",e.payDay,")"]},e.id))]})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Dia de vencimento",s.jsx("input",{type:"number",min:"1",max:"31",value:M.dueDay,onChange:e=>L({...M,dueDay:e.target.value}),required:!0,className:"input"})]})]}),z&&s.jsx("p",{className:"text-rose-400 text-sm",children:z}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[B&&s.jsx("button",{type:"button",className:"button-ghost",onClick:()=>{L(u),X(null)},children:"Cancelar"}),s.jsx("button",{type:"submit",className:"button-primary",disabled:J,children:J?"Salvando...":B?"Atualizar":"Adicionar"})]})]})]}),(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Vis\xe3o r\xe1pida"}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Distribui\xe7\xe3o do m\xeas entre fixas, vari\xe1veis e sobra."}),(0,s.jsxs)("div",{className:"space-y-1 text-sm text-slate-200",children:[(0,s.jsxs)("p",{children:["Fixas: R$ ",eF.toFixed(2)]}),(0,s.jsxs)("p",{children:["Vari\xe1veis: R$ ",eO.toFixed(2)]}),(0,s.jsxs)("p",{children:["Sobra: R$ ",eq.toFixed(2)]})]}),W.length>0&&s.jsx("ul",{className:"space-y-2",children:eL.map(({cycle:e,total:t})=>(0,s.jsxs)("li",{className:"border border-white/10 rounded-lg px-3 py-2 bg-white/5",children:[s.jsx("p",{className:"description",children:e.name}),(0,s.jsxs)("p",{className:"muted",children:["Dia ",e.payDay," - Alocado: R$ ",t.toFixed(2)]})]},e.id))})]}),(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:q?"Editar despesa":"Adicionar despesa vari\xe1vel"}),(0,s.jsxs)("form",{onSubmit:ef,className:"space-y-2",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Descri\xe7\xe3o",s.jsx("input",{type:"text",value:I.description,onChange:e=>P({...I,description:e.target.value}),placeholder:"Ex: Almo\xe7o, Uber...",required:!0,className:"input"})]}),(0,s.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Valor (R$)",s.jsx("input",{type:"number",step:"0.01",value:I.amount,onChange:e=>P({...I,amount:e.target.value}),placeholder:"0,00",required:!0,className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Categoria",s.jsx("input",{type:"text",value:I.category,onChange:e=>P({...I,category:e.target.value}),list:"expense-categories",placeholder:"Transporte, Lazer...",className:"input"}),s.jsx("datalist",{id:"expense-categories",children:g.map(e=>s.jsx("option",{value:e},e))})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Sal\xe1rio / Ciclo",(0,s.jsxs)("select",{value:I.payCycleId,onChange:e=>P({...I,payCycleId:e.target.value}),className:"input",children:[s.jsx("option",{value:"",children:"Sem ciclo"}),W.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (dia ",e.payDay,")"]},e.id))]})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Data",s.jsx("input",{type:"date",value:I.date,onChange:e=>P({...I,date:e.target.value}),className:"input"})]})]}),T&&s.jsx("p",{className:"text-rose-400 text-sm",children:T}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[q&&s.jsx("button",{type:"button",className:"button-ghost",onClick:()=>{P(x),A(null)},children:"Cancelar"}),s.jsx("button",{type:"submit",className:"button-primary",disabled:F,children:F?"Salvando...":q?"Atualizar":"Adicionar"})]})]})]})]}),(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Obriga\xe7\xf5es fixas"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Resumo do m\xeas"})]}),s.jsx("button",{className:"button-ghost",onClick:eb,children:"Atualizar"})]}),0===U.length?s.jsx("p",{className:"text-slate-300 text-sm",children:"Nenhuma obriga\xe7\xe3o cadastrada ainda."}):s.jsx("ul",{className:"list",children:U.map(e=>(0,s.jsxs)("li",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"description",children:[e.title," ",(0,s.jsxs)("span",{className:"muted",children:["- dia ",e.dueDay]})]}),(0,s.jsxs)("p",{className:"muted",children:["R$ ",e.amount.toFixed(2)," ",e.category&&` - ${e.category}`]})]}),(0,s.jsxs)("div",{className:"row",children:[s.jsx("button",{className:"button-ghost",onClick:()=>{L({title:e.title,amount:e.amount.toString(),category:e.category||"",dueDay:e.dueDay.toString(),payCycleId:e.payCycleId?e.payCycleId.toString():""}),X(e.id)},children:"Editar"}),s.jsx("button",{className:"danger",onClick:()=>e$(e.id),children:"Excluir"})]})]},e.id))})]}),(0,s.jsxs)("section",{className:"glass p-5 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"uppercase tracking-[0.08em] text-emerald-300 text-xs",children:"Despesas vari\xe1veis"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Controle r\xe1pido"})]}),s.jsx("button",{className:"button-ghost",onClick:eN,children:"Atualizar"})]}),0===$.length?s.jsx("p",{className:"text-slate-300 text-sm",children:"Nenhuma despesa cadastrada ainda."}):s.jsx("ul",{className:"list",children:$.map(e=>(0,s.jsxs)("li",{children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"description",children:e.description}),(0,s.jsxs)("p",{className:"muted",children:["R$ ",e.amount.toFixed(2)," ",e.category&&` - ${e.category}`," - ",new Date(e.date).toLocaleDateString("pt-BR")]})]}),(0,s.jsxs)("div",{className:"row",children:[s.jsx("button",{className:"button-ghost",onClick:()=>{P({description:e.description,amount:e.amount.toString(),category:e.category||"",date:e.date?e.date.slice(0,10):"",payCycleId:e.payCycleId?e.payCycleId.toString():""}),A(e.id)},children:"Editar"}),s.jsx("button",{className:"danger",onClick:()=>eS(e.id),children:"Excluir"})]})]},e.id))})]})]}):(0,s.jsxs)("section",{className:"glass p-6 space-y-4 max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 border border-white/10 rounded-xl overflow-hidden",children:[s.jsx("button",{className:`py-3 text-sm font-semibold ${"login"===e?"bg-emerald-300 text-slate-900":"text-slate-100"}`,onClick:()=>{t("login"),S("")},children:"Entrar"}),s.jsx("button",{className:`py-3 text-sm font-semibold ${"register"===e?"bg-emerald-300 text-slate-900":"text-slate-100"}`,onClick:()=>{t("register"),S("")},children:"Criar conta"})]}),(0,s.jsxs)("form",{onSubmit:ev,className:"space-y-3",children:["register"===e&&(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Nome",s.jsx("input",{type:"text",value:a.name,onChange:e=>i({...a,name:e.target.value}),placeholder:"Seu nome",required:!0,className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["E-mail",s.jsx("input",{type:"email",value:a.email,onChange:e=>i({...a,email:e.target.value}),placeholder:"voce@email.com",required:!0,className:"input"})]}),(0,s.jsxs)("label",{className:"space-y-1 text-sm text-slate-200",children:["Senha",s.jsx("input",{type:"password",value:a.password,onChange:e=>i({...a,password:e.target.value}),placeholder:"******",required:!0,className:"input"})]}),f&&s.jsx("p",{className:"text-rose-400 text-sm",children:f}),s.jsx("button",{type:"submit",className:"button-primary",disabled:b,children:b?"Carregando...":"login"===e?"Entrar":"Registrar"})]})]})]})}},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>l});var s=a(9510);a(7272);let l={title:"Controle de Gastos",description:"Veja para onde seu dinheiro vai e planeje o m\xeas sem sustos"};function i({children:e}){return s.jsx("html",{lang:"pt-BR",children:s.jsx("body",{children:e})})}},908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});var s=a(8570);let l=(0,s.createProxy)(String.raw`C:\Users\User\Desktop\controle-gastos\backend\app\page.tsx`),{__esModule:i,$$typeof:r}=l;l.default;let n=(0,s.createProxy)(String.raw`C:\Users\User\Desktop\controle-gastos\backend\app\page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,471],()=>a(4707));module.exports=s})();
"use strict";(()=>{var e={};e.id=2,e.ids=[2],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},5746:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>w,patchFetch:()=>P,requestAsyncStorage:()=>f,routeModule:()=>x,serverHooks:()=>j,staticGenerationAsyncStorage:()=>v});var s={};t.r(s),t.d(s,{GET:()=>g,POST:()=>h,dynamic:()=>d,revalidate:()=>c,runtime:()=>m});var a=t(9303),i=t(8716),n=t(670),o=t(7070),u=t(8691),p=t(3493),l=t(9178);let d="force-dynamic",c=0,m="nodejs";async function g(){return o.NextResponse.json({message:"Use POST para registrar"},{status:405,headers:{Allow:"POST"}})}async function h(e){let{name:r,email:t,password:s}=await e.json();if(!r||!t||!s)return o.NextResponse.json({message:"Nome, e-mail e senha s\xe3o obrigat\xf3rios"},{status:400});try{if(await p._.user.findUnique({where:{email:t}}))return o.NextResponse.json({message:"E-mail j\xe1 cadastrado"},{status:400});let e=await u.ZP.hash(s,10),a=await p._.user.create({data:{name:r,email:t,password:e}}),i=(0,l.R)(a.id);return o.NextResponse.json({token:i,user:{id:a.id,name:a.name,email:a.email}},{status:201})}catch(e){return console.error("Erro ao registrar usu\xe1rio",e),o.NextResponse.json({message:"Erro interno ao registrar"},{status:500})}}let x=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\controle-gastos\\backend\\app\\api\\auth\\register\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:f,staticGenerationAsyncStorage:v,serverHooks:j}=x,w="/api/auth/register/route";function P(){return(0,n.patchFetch)({serverHooks:j,staticGenerationAsyncStorage:v})}},9178:(e,r,t)=>{t.d(r,{R:()=>n,W:()=>o});var s=t(1482),a=t.n(s);let i=process.env.JWT_SECRET||"change-me";function n(e){return a().sign({userId:e},i,{expiresIn:"7d"})}function o(e){if(!e||!e.startsWith("Bearer "))return null;let r=e.split(" ")[1];try{return a().verify(r,i).userId}catch(e){return null}}},3493:(e,r,t)=>{t.d(r,{_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma||new s.PrismaClient({log:["error","warn"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,547,691],()=>t(5746));module.exports=s})();